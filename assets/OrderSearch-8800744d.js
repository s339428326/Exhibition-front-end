import{_ as k,r as v,b as y,c as l,d as n,f as e,t as a,g as f,F as x,h as g,n as D,M as m,p as S,k as O,s as $,x as I,o as P,w as B}from"./index-cfc24485.js";import{g as C}from"./order-f030dbcc.js";const p=r=>(S("data-v-9ebcdc2c"),r=r(),O(),r),L={class:"d-flex border"},N={class:"flex-grow-1"},V=p(()=>e("p",{class:"border-bottom p-2 bg-dark text-white text-center"},"建立日期",-1)),j={class:"p-2 text-center"},z={class:"flex-grow-1"},F=p(()=>e("p",{class:"border-bottom p-2 bg-dark text-white text-center"},"訂單編號",-1)),M={class:"p-2 text-center"},R=p(()=>e("div",{class:"flex-grow-1"},[e("p",{class:"border-bottom p-2 bg-dark text-white text-center"},"訂單狀態"),e("p",{class:"p-2 text-center"},"購買完成")],-1)),T={class:"flex-grow-1"},U=p(()=>e("p",{class:"border-bottom p-2 bg-dark text-white text-center"},"總金額",-1)),q={class:"p-2 text-center"},A=m('<div class="flex-grow-1" data-v-9ebcdc2c><p class="border-bottom p-2 bg-dark text-white text-center" data-v-9ebcdc2c>說明</p><p class="p-2 text-center" data-v-9ebcdc2c>無</p></div><div class="flex-grow-1" data-v-9ebcdc2c><p class="border-bottom p-2 bg-dark text-white text-center" data-v-9ebcdc2c>聯絡客服</p><p class="p-2 text-center" data-v-9ebcdc2c>點擊這裡</p></div>',2),E=p(()=>e("p",null,"訂單內容",-1)),H={class:"d-flex gap-4"},G={__name:"Order",props:{order:Object},setup(r){const s=v(!1),i=()=>{s.value=!s.value};return(b,u)=>{var d,c,o,h;const _=y("PlaylistPlus");return l(),n("div",null,[e("div",L,[e("div",N,[V,e("p",j,a(new Date(Date.parse((d=r.order)==null?void 0:d.createAt)).toLocaleDateString()),1)]),e("div",z,[F,e("p",M,a((c=r.order)==null?void 0:c._id),1)]),R,e("div",T,[U,e("p",q,"$"+a((o=r.order)==null?void 0:o.total),1)]),A]),e("button",{onClick:i,class:"d-flex gap-2 align-items-center border-0 tr mb-3 bg-transparent"},[f(_,{size:24}),E]),e("ul",{class:D(`border border-dark p-2 d-flex flex-column gap-2 ${s.value?"d-block":"d-none"}`)},[(l(!0),n(x,null,g((h=r.order)==null?void 0:h.orderList,(t,w)=>(l(),n("li",{class:"d-flex justify-content-between gap-4",key:w},[e("p",null,a(t==null?void 0:t.name)+"("+a(t==null?void 0:t.ticketType)+")",1),e("div",H,[e("p",null,"單價 "+a(t==null?void 0:t.price),1),e("p",null,"x"+a(t==null?void 0:t.quantity),1)])]))),128))],2)])}}},J=k(G,[["__scopeId","data-v-9ebcdc2c"]]),K=e("h1",{class:"border-bottom mb-4 fs-4 pb-3 fw-medium"},"訂單查詢",-1),Q={class:"row"},W={class:"col-12"},X={class:"list-unstyled"},ee={__name:"OrderSearch",setup(r){const s=$(),i=I(s),b=v([]),u=async()=>{var _,d,c;if((_=s==null?void 0:s.userData)!=null&&_.id)try{const o=await C((d=s==null?void 0:s.userData)==null?void 0:d.id);console.log("[res order data]",o),b.value=(c=o==null?void 0:o.data)==null?void 0:c.orders}catch(o){console.error(o)}};return P(()=>{u(),B(i.userData,()=>{u()})}),(_,d)=>(l(),n(x,null,[K,e("div",Q,[e("div",W,[e("ul",X,[(l(!0),n(x,null,g(b.value,(c,o)=>(l(),n("li",{key:o,class:"mb-4"},[f(J,{order:c},null,8,["order"])]))),128))])])])],64))}};export{ee as default};
